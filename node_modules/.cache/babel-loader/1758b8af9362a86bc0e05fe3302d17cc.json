{"ast":null,"code":"import * as Types from './types';\nimport Axios from 'axios';\nimport jwtDecode from \"jwt-decode\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nexport const admin_login = (admin, history) => dispatch => {\n  Axios.post(\"/admin/login\", admin).then(res => {\n    let token = res.data.token;\n\n    if (token) {\n      localStorage.setItem(\"admin_auth_token\", token);\n      let decode = jwtDecode(token);\n      dispatch({\n        type: Types.SET_ADMIN,\n        payload: {\n          admin: decode\n        }\n      });\n      history.push(\"/\");\n    } else {\n      dispatch({\n        type: Types.ADMIN_ERROR,\n        payload: {\n          error: {},\n          hola_success: res.data.message\n        }\n      });\n    }\n  }).catch(error => {\n    dispatch({\n      type: Types.ADMIN_ERROR,\n      payload: {\n        error: error.response.data\n      }\n    });\n  });\n};\nexport const logout = history => {\n  localStorage.removeItem(\"admin_auth_token\");\n  history.push(\"/adminlogin\");\n  return {\n    type: Types.SET_ADMIN,\n    payload: {\n      admin: {}\n    }\n  };\n};","map":{"version":3,"sources":["E:\\xampp\\htdocs\\library_management\\library_admin\\src\\store\\actions\\adminAction.js"],"names":["Types","Axios","jwtDecode","setAuthToken","admin_login","admin","history","dispatch","post","then","res","token","data","localStorage","setItem","decode","type","SET_ADMIN","payload","push","ADMIN_ERROR","error","hola_success","message","catch","response","logout","removeItem"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,SAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoBC,QAAQ,IAAI;AACzDN,EAAAA,KAAK,CAACO,IAAN,CAAW,cAAX,EAA2BH,KAA3B,EACGI,IADH,CACQC,GAAG,IAAI;AACX,QAAIC,KAAK,GAAGD,GAAG,CAACE,IAAJ,CAASD,KAArB;;AACA,QAAIA,KAAJ,EAAW;AACTE,MAAAA,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCH,KAAzC;AACA,UAAII,MAAM,GAAGb,SAAS,CAACS,KAAD,CAAtB;AACAJ,MAAAA,QAAQ,CAAC;AACPS,QAAAA,IAAI,EAAEhB,KAAK,CAACiB,SADL;AAEPC,QAAAA,OAAO,EAAE;AACPb,UAAAA,KAAK,EAAEU;AADA;AAFF,OAAD,CAAR;AAMAT,MAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACD,KAVD,MAUO;AACLZ,MAAAA,QAAQ,CAAC;AACPS,QAAAA,IAAI,EAAEhB,KAAK,CAACoB,WADL;AAEPF,QAAAA,OAAO,EAAE;AACPG,UAAAA,KAAK,EAAE,EADA;AAEPC,UAAAA,YAAY,EAAEZ,GAAG,CAACE,IAAJ,CAASW;AAFhB;AAFF,OAAD,CAAR;AAOD;AACF,GAtBH,EAuBGC,KAvBH,CAuBSH,KAAK,IAAI;AACdd,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAEhB,KAAK,CAACoB,WADL;AAEPF,MAAAA,OAAO,EAAE;AACPG,QAAAA,KAAK,EAAEA,KAAK,CAACI,QAAN,CAAeb;AADf;AAFF,KAAD,CAAR;AAMD,GA9BH;AA+BD,CAhCM;AAkCP,OAAO,MAAMc,MAAM,GAAGpB,OAAO,IAAI;AAC/BO,EAAAA,YAAY,CAACc,UAAb,CAAwB,kBAAxB;AACArB,EAAAA,OAAO,CAACa,IAAR,CAAa,aAAb;AACA,SAAO;AACLH,IAAAA,IAAI,EAAEhB,KAAK,CAACiB,SADP;AAELC,IAAAA,OAAO,EAAE;AACPb,MAAAA,KAAK,EAAE;AADA;AAFJ,GAAP;AAMD,CATM","sourcesContent":["import * as Types from './types'\r\nimport Axios from 'axios'\r\nimport jwtDecode from \"jwt-decode\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\n\r\nexport const admin_login = (admin, history) => dispatch => {\r\n  Axios.post(\"/admin/login\", admin)\r\n    .then(res => {\r\n      let token = res.data.token;\r\n      if (token) {\r\n        localStorage.setItem(\"admin_auth_token\", token);\r\n        let decode = jwtDecode(token);\r\n        dispatch({\r\n          type: Types.SET_ADMIN,\r\n          payload: {\r\n            admin: decode\r\n          }\r\n        });\r\n        history.push(\"/\");\r\n      } else {\r\n        dispatch({\r\n          type: Types.ADMIN_ERROR,\r\n          payload: {\r\n            error: {},\r\n            hola_success: res.data.message\r\n          }\r\n        });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: Types.ADMIN_ERROR,\r\n        payload: {\r\n          error: error.response.data\r\n        }\r\n      });\r\n    });\r\n};\r\n\r\nexport const logout = history => {\r\n  localStorage.removeItem(\"admin_auth_token\");\r\n  history.push(\"/adminlogin\");\r\n  return {\r\n    type: Types.SET_ADMIN,\r\n    payload: {\r\n      admin: {}\r\n    }\r\n  };\r\n};"]},"metadata":{},"sourceType":"module"}